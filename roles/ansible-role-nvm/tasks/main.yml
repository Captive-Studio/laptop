---
- include_tasks: "{{ item }}"
  with_first_found:
    - "./setup-{{ ansible_distribution }}-{{ ansible_distribution_major_version | int}}.yml"
    - "./setup-{{ ansible_distribution }}.yml"
    - "./setup-{{ ansible_os_family }}.yml"
    - "./setup-default.yml"

- name: Check is Default Node is installed
  shell: command -v node >/dev/null 2>&1
  register: is_node_exist
  become: false
  failed_when: false
  changed_when: false

- name: Install Default LTS
  ansible.builtin.shell:
    cmd: . {{ansible_env.HOME}}/.zshenv;. {{ansible_env.HOME}}/.zshrc;nvm install --lts;
    executable: /bin/zsh
  become: false
  when: is_node_exist.rc != 0
  changed_when: is_node_exist.rc == 0



